<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Live 18+ - Danh sách & Tương tác</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
    
      .live-actions {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        padding: 15px 0;
        flex-wrap: wrap;
      }
      .nav-link {
        font-size: 18px;
        background: linear-gradient(90deg, #b93e05, #ffffff, #922efd);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;
        font-weight: 550;
      }
      .action-item {
        display: flex;
        align-items: center;
      }

      .icon-btn:hover,
      .btn-language:hover,
      .btn-refresh:hover {
        background-color: #dcdcdc;
        transform: scale(1.05);
      }

      #liveStreamWrapper {
        display: none;
        transition: all 0.3s ease;
      }

      .live-stream-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 12px;
        max-width: 100%;
      }

      #liveFrame {
        width: 100vw;
        height: 100vh;
        object-fit: cover;
        border: none;
      }

      @keyframes glowing-border {
        0% {
          outline-color: #ff5f6d;
        }

        50% {
          outline-color: #ffc371;
        }

        100% {
          outline-color: #ff5f6d;
        }
      }
      body {
        /* Màu nền gốc: xanh đen (navy/dark) */
        background: #0b0f1a;

        /* Gradient radial để tạo chiều sâu mờ ở trung tâm */
        background: radial-gradient(
          circle at center,
          rgba(11, 15, 26, 0.7) 0%,
          /* Màu hơi trong suốt ở tâm */ rgba(11, 15, 26, 1) 100%
            /* Màu đậm hơn ở ngoài rìa */
        );

        /* Đặt chiều cao full màn hình */
        min-height: 100vh;

        /* Đảm bảo phần tử con được hiển thị phía trên */
        position: relative;

        color: #fff; /* Màu chữ mặc định (trắng) trên nền tối */
      }

      /* Lớp phủ sao (starfield) tạo thêm độ sâu */
      body::before {
        content: "";
        position: absolute;
        z-index: -1; /* Đẩy lớp phủ ra phía sau nội dung */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* Thay đường dẫn ảnh sao, hoặc bạn có thể dùng ảnh bokeh, particle... */
        background: url("https://i.ibb.co/ycBpNQyM/pngtree-light-effect-background-halo-radial-image-2419979.jpg")
          no-repeat center center;
        background-size: cover;

        /* Độ trong suốt để hòa trộn với nền phía dưới */
        opacity: 0.2;
        pointer-events: none;
      }
      /* Để không bị che bởi Bottom Navigation, thêm padding dưới cho nội dung */
      .content {
        padding: 20px;
        padding-bottom: 120px;
      }
      .action-buttons {
        background: linear-gradient(90deg, #b99e05, #efefef, #00ffc8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
      }
      .action-buttons button {
        border: 1px solid #fff;
        padding: 5px 10px;
       
        border-radius: 5px;
        background: linear-gradient(90deg, #b99e05, #efefef, #00ffc8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;
        color: #fff;
        cursor: pointer;
        transition: transform 0.3s, box-shadow 0.3s;
      }
      .action-buttons button:hover {
        transform: translateY(-3px);
      
      }


      .icon-btn {
        background: linear-gradient(135deg, #ff9a9e, #fad0c4);
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 10px;
        font-size: 16px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 5px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(255, 123, 182, 0.4);
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .icon-btn i {
        font-size: 18px;
      }

      .icon-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(255, 123, 182, 0.6);
      }

      .icon-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 10px rgba(255, 154, 158, 0.4);
      }

      @media (max-width: 600px) {
        .action-buttons {
          flex-wrap: wrap;
          justify-content: center;
        }

        .icon-btn {
          width: 100%;
          justify-content: center;
        }
      }

      .live-row {
        display: flex;
        gap: 15px;
        overflow-x: auto;
        margin: 15px 0;
        justify-content: flex-start;
        scroll-snap-type: x mandatory;
        flex-wrap: nowrap;
        scrollbar-width: thin;
        width: 100%;
      }

      .live-card {
        position: relative;
        background-color: #222;
        border-radius: 12px;
        text-align: center;
        width: 45%;
        max-width: 200px;
        height: 280px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        flex-shrink: 0;
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .live-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 20px rgba(183, 76, 217, 0.6);
      }

      .live-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .status {
        position: absolute;
        top: 10px;
        left: 10px;
        padding: 5px 10px;
        font-size: 12px;
        font-weight: 550;
        border-radius: 5px;
        color: #fff;
        background-color: rgba(0, 255, 60, 0.7);
        z-index: 2;
        opacity: 0.8;
        animation: blink 1.5s infinite alternate;
      }

      @keyframes blink {
        from {
          opacity: 0.8;
        }

        to {
          opacity: 0.4;
        }
      }

      .status.online {
        background-color: rgba(0, 255, 60, 0.7);
      }

      .status.offline {
        background-color: rgba(255, 0, 25, 0.7);
      }

      @keyframes blink {
        from {
          opacity: 0.8;
        }

        to {
          opacity: 0.4;
        }
      }

      .card-info {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.6);
        color: #fff;
        padding: 8px 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .card-info .flag {
        width: 20px;
        height: 20px;
        border-radius: 50%;
      }

      .card-info .name {
        font-size: 14px;
        font-weight: bold;
      }

      .live-row::-webkit-scrollbar {
        height: 6px;
      }

      .live-row::-webkit-scrollbar-thumb {
        background-color: #b74cd9;
        border-radius: 10px;
      }

      .live-row::-webkit-scrollbar-track {
        background-color: #2b2b2b;
      }

      .live-chat {
        background-color: #2b2b2b;
        border-radius: 10px;
        margin-top: 20px;
      }

      .chat-box {
        height: 250px;
        overflow-y: auto;
        background-color: #1a1a1a;
        border: 1px solid #444;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.7);
      }

      .chat-box::-webkit-scrollbar {
        width: 8px;
      }

      .chat-box::-webkit-scrollbar-thumb {
        background-color: #b74cd9;
        border-radius: 10px;
      }

      #liveStreamWrapper .controls {
        margin-top: 15px;
        display: flex;
        justify-content: center;
        gap: 15px;
      }

      #liveStreamWrapper .controls button {
        background: linear-gradient(to right, #5a1ebd, #7b3ff2);
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-size: 15px;
        transition: background-color 0.3s, transform 0.3s;
      }

      #liveStreamWrapper .controls button:hover {
        background-color: #e04070;
        transform: scale(1.05);
      }

      .top-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 3;
      }

      .top-badge .top-logo {
        width: 50px;
        height: 50px;
        object-fit: contain;
      }

      .section-title {
        text-align: center;
        margin: 20px 0;
      }

      .section-title img.logo-title {
        width: 100%;
        height: auto;
        max-width: 100%;
        border-radius: 10px;
        padding: 5px;
        background-color: #fff;
      }

      .favorite-btn {
        position: absolute;
        bottom: 10px;
        right: 10px;
        background-color: rgba(255, 0, 0, 0.8);
        color: white;
        border: none;
        border-radius: 50%;
        width: 27px;
        height: 27px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        cursor: pointer;
        z-index: 3;
        transition: background-color 0.3s, transform 0.3s;
      }

      .favorite-btn:hover {
        background-color: rgba(255, 0, 0, 1);
        transform: scale(1.1);
      }

      .favorite-btn.active {
        color: #ff2b61;
      }

      .gift-popup {
        position: fixed;
        top: 50%;
        width: 80%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #1c1c1c;
        border: 5px solid;
        border-image: linear-gradient(to right, #0f0, #f00, #fc0, #f0f);
        border-image-slice: 1;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.5);
        z-index: 1000;
      }

      .gift-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .gift-header span {
        font-size: 20px;
        font-weight: bold;
        color: #fc0;
      }

      .close-btn {
        background: linear-gradient(135deg, #a12ff2, #ff4ecd);
        color: #fff;
        font-size: 13px;
        font-weight: bold;
        padding: 5px 10px;
        border: 2px solid #ff4ecd;
        border-radius: 10px;
        cursor: pointer;
        text-transform: uppercase;
        box-shadow: 0 5px 20px rgba(255, 78, 205, 0.6);
        transition: transform 0.3s ease, box-shadow 0.3s ease,
          background 0.3s ease;
      }

      .gift-items {
        display: flex;
        max-height: 500px;
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
        gap: 8px;
      }

      .gift-item {
        width: 60px;
        gap: 5px;
        text-align: center;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .gift-item img {
        width: 35px;
        height: 35px;
      }

      .gift-item span {
        display: block;
        margin-top: 3px;
        color: #fff;
        font-size: 12px;
        font-weight: bold;
      }

      .gift-item:hover {
        transform: scale(1.05);
      }

      .gift-quantity-section {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        margin-top: 15px;
      }

      #gift-quantity {
        width: 80px;
        padding: 5px;
        border: 2px solid #fc0;
        border-radius: 5px;
        text-align: center;
        font-size: 14px;
      }

      .send-gift-btn {
        background: linear-gradient(to right, #0c6, #00b359);
        color: #fff;
        padding: 5px 10px;
        border: none;
        border-radius: 25px;
        font-size: 12px;
        font-weight: bold;
        text-transform: uppercase;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .send-gift-btn:hover {
        background: linear-gradient(to right, #0f0, #00e600);
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0, 255, 0, 0.5);
      }

      .send-gift-btn:active,
      .cancel-gift-btn:active {
        transform: scale(0.95);
      }

      .gift-icon {
        width: 80px;
        height: auto;
        margin-bottom: 5px;
        animation: bounceGift 1.5s infinite;
      }

      .gift-success-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.9);
        padding: 20px;
        border-radius: 12px;
        z-index: 1002;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: zoomIn 0.4s ease-out;
        box-shadow: 0 4px 15px rgba(183, 76, 217, 0.5);
        max-width: 90%;
        text-align: center;
      }

      @keyframes zoomIn {
        from {
          transform: translate(-50%, -50%) scale(0.8);
          opacity: 0;
        }

        to {
          transform: translate(-50%, -50%) scale(1);
          opacity: 1;
        }
      }

      .gift-box-img {
        width: 100px;
        animation: bounce 1s infinite;
        filter: drop-shadow(0 0 15px rgba(255, 255, 0, 0.7));
      }

      .gift-coins-img {
        width: 80px;
        margin-top: 10px;
        animation: fadeInDown 1s ease, glow 1.5s infinite alternate;
      }

      @keyframes glow {
        0% {
          filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));
        }

        100% {
          filter: drop-shadow(0 0 20px rgba(255, 69, 0, 1));
        }
      }

      .fake-live-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.93);
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 10;
        backdrop-filter: blur(3px);
        box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.3);
      }

      .gift-message {
        margin-top: 15px;
        font-size: 1.5em;
        font-weight: bold;
        color: #fc0;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        animation: fadeIn 1s ease;
      }

      .cancel-gift-btn {
        background-color: #f44;
        color: #fff;
        border: none;
        padding: 5px 10px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1em;
        font-weight: bold;
        transition: background-color 0.3s, transform 0.2s;
      }

      .cancel-gift-btn:hover {
        background-color: #e03333;
        transform: scale(1.05);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }

        to {
          opacity: 1;
        }
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }

        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .idol-live-container {
        width: 100%;
        margin: 0 auto;
        text-align: center;
        font-family: Arial, sans-serif;
      }

      .idol-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-bottom: 40px;
      }

      .idol-card {
        background-color: #f9f9f9;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        width: 150px;
      }

      .idol-card img {
        width: 100%;
        border-radius: 10px;
      }

      .idol-name {
        margin-top: 10px;
        font-weight: bold;
      }

      .update-btn {
        margin-top: 20px;
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
      }

      .update-btn:hover {
        background-color: #0056b3;
      }

      .hide-live-btn {
        background-color: #f00;
        color: white;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 14px;
        top: 10px;
        right: 10px;
        z-index: 10;
      }

      .hide-live-btn:hover {
        opacity: 0.8;
      }

      .live-stream-content {
        display: block;
      }

      .gift-container {
        display: flex;
        align-items: center;
        gap: 8px;
        position: relative;
        margin: 10px 0;
      }

      .gift-image {
        width: 40px;
        height: 40px;
        display: inline-block;
      }

      .gift-message {
        color: #fff;
        font-size: 12px;
        margin-left: 5px;
        line-height: 1;
      }

      .gift-image {
        animation: bounce 0.6s ease forwards;
      }

      @keyframes bounce {
        0% {
          transform: translateY(0);
        }

        30% {
          transform: translateY(-5px);
        }

        60% {
          transform: translateY(3px);
        }

        100% {
          transform: translateY(0);
        }
      }

      #donor-name {
        color: #00fff2;
        font-weight: 700;
        font-size: 14px;
        text-shadow: 0px 0px 8px rgba(255, 255, 255, 0.9);
        display: inline-block;
        margin: 0;
        line-height: 1;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }

        50% {
          transform: scale(1.1);
          opacity: 0.7;
        }

        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes glow {
        0% {
          text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
        }

        50% {
          text-shadow: 0 0 15px rgba(0, 255, 242, 1);
        }

        100% {
          text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
        }
      }

      @keyframes bounce {
        0% {
          transform: translateY(0);
        }

        30% {
          transform: translateY(-5px);
        }

        60% {
          transform: translateY(3px);
        }

        100% {
          transform: translateY(0);
        }
      }

      .close-btn img {
        width: 20px;
        height: 20px;
      }

      .new-btn {
        background: linear-gradient(90deg, #b93e05, #00d4ff, #922efd);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;
        color: white;
        padding: 10px 20px;
        border: 1px solid #fff;
        border-radius: 8px;
        font-size: 14px;
        font-weight: bold;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
        cursor: pointer;
       
        position: relative;
        transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
      }

      .new-btn::before {
        content: "";
        position: absolute;
        top: 2px;
        left: 2px;
        margin-bottom: 50px;
        right: 2px;
        height: 40%;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 8px;
        pointer-events: none;
      }

      .new-btn:hover {
        background: linear-gradient(90deg, #10b905, #efefef, #7a00ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        transform: scale(1.05);
     
      }

      .new-btn:active {
        transform: scale(0.97);
        box-shadow: 0 2px 6px rgba(90, 30, 189, 0.5);
      }

      .new-btn i {
        font-size: 18px;
      }

      .list-container {
        margin-top: 20px;
        text-align: center;
      }

      #item-list {
        list-style-type: none;
        padding: 0;
      }

      #item-list li {
        background-color: #f3f3f3;
        margin: 5px;
        padding: 10px;
        border-radius: 5px;
        font-size: 18px;
      }

      .search-container {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 20px 0;
      }

      #search-input {
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        width: 200px;
      }

      .favorite-container {
        background-color: #333;
        padding: 10px;
        border-radius: 10px;
        margin-top: 20px;
        color: #fff;
      }

      .favorite-container ul {
        list-style: none;
        padding: 0;
      }

      .favorite-container li {
        margin: 5px 0;
        font-size: 16px;
      }

      .favorite-container .new-btn {
        background-color: #ff4b5c;
        color: #fff;
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
      }

      .favorite-container .new-btn:hover {
        background-color: #e04050;
      }

      .live-container {
        position: relative;
        margin: 0 auto;
        padding: 0;
        max-width: 100%;
        width: 100%;
        height: 100%;
        /* Sử dụng border gradient phù hợp với nền đen */
        border: 4px solid;
        border-image: linear-gradient(45deg, #ff9a9e, #fbc2eb) 1;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 0 15px rgba(255, 85, 85, 0.7);
        perspective: 1500px;
        background: #000;
        transition: transform 0.5s ease;
      }

      .live-container:hover {
        transform: rotateY(10deg) rotateX(5deg);
      }

      .live-container iframe {
        width: 100%;
        height: 100%;
        border: none;
        transform: translateZ(0);
        transition: transform 0.5s ease, box-shadow 0.5s ease;
      }

      .live-container:hover iframe {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      }

      /* Đảm bảo iframe không có viền */
      iframe {
        border: none;
      }

      .live-indicator {
        position: absolute;
        top: 10px;
        left: 10px;
        background: red;
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: bold;
        z-index: 2;
      }

      @keyframes blink {
        0% {
          opacity: 1;
        }

        50% {
          opacity: 0.7;
        }

        100% {
          opacity: 1;
        }
      }

      .viewers-count {
        position: absolute;
        top: 5px;
        right: -15px;
        color: #fff;
        padding: 6px 18px;
        border-radius: 25px;
        font-size: 14px;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        50% {
          transform: scale(1.1);
          box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }

        100% {
          transform: scale(1);
          box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
      }

      .viewers-count {
        animation: pulse 2s infinite;
      }

      @media (max-width: 768px) {
        .viewers-count {
          font-size: 12px;
          padding: 5px 15px;
          gap: 5px;
        }
      }
      /* Overlay thông báo chung (cho tín dụng và live access) */
      .notification-board {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80%;
        max-width: 600px;
        background: #fff;
        border: 2px solid red;
        padding: 20px;
        z-index: 1200;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        text-align: center;
      }
      .notification-board a {
        color: blue;
        text-decoration: underline;
      }
      .notification-board button {
        margin-top: 15px;
        padding: 8px 16px;
        font-size: 16px;
      }
      /* Keyframes cho hiệu ứng chữ chạy */
      @keyframes scrollText {
        0% {
          transform: translateX(0%);
        }
        100% {
          transform: translateX(-100%);
        }
      }
      .donate-notification {
        position: absolute;
        bottom: 20px;
        right: -70px;
        padding: 10px;
        transform: translateX(-50%);
        font-size: 10px;
        color: #fff;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        max-width: 160px;
        font-weight: 500;
        animation: bounce 1.5s ease infinite, fadeInOut 4s forwards;
      }

      @keyframes slideIn {
        0% {
          transform: translateX(100%);
          opacity: 0;
        }

        100% {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }

        100% {
          transform: scale(1.2);
        }
      }

      .donate-notification p {
        margin: 0;
        font-size: 18px;
        font-weight: bold;
        color: #ff4d4d;
      }

      .gift-icon,
      .gift-name {
        animation: glow 1.5s infinite alternate;
      }

      @keyframes bounceGift {
        0%,
        100% {
          transform: translateY(0);
        }

        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0) translateX(-50%);
        }

        50% {
          transform: translateY(-10px) translateX(-50%);
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }

        100% {
          transform: scale(1.2);
        }
      }

      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translateX(-50%) translateY(10px);
        }

        10% {
          opacity: 1;
          transform: translateX(-50%) translateY(0);
        }

        90% {
          opacity: 1;
          transform: translateX(-50%) translateY(0);
        }

        100% {
          opacity: 0;
          transform: translateX(-50%) translateY(-10px);
        }
      }

      .comment-section {
        position: absolute;
        bottom: -5px;
        width: 280px;
        max-height: 220px;
        background: rgba(20, 20, 20, 0.85);
        color: white;
        border-radius: 12px;
        font-size: 14px;
        padding: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        transition: all 0.3s ease-in-out;
      }

      /* Scroll đẹp hơn */
      #comments {
        width: 100%;
        max-height: 180px;
        border-radius: 10px;
        overflow-y: auto;
        font-family: Arial, sans-serif;
        padding-right: 5px;
        scrollbar-width: thin;
        scrollbar-color: #555 #222;
      }

      /* Tùy chỉnh thanh cuộn */
      #comments::-webkit-scrollbar {
        width: 6px;
      }

      #comments::-webkit-scrollbar-thumb {
        background: #555;
        border-radius: 6px;
      }

      #comments::-webkit-scrollbar-track {
        background: #222;
        border-radius: 6px;
      }

      /* Hiệu ứng comment */
      .comments p {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        margin: 6px 0;
        padding: 8px;
        background-color: rgba(50, 50, 50, 0.8);
        color: #f0f0f0;
        border-radius: 8px;
        line-height: 1.5;
        word-break: break-word;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: background 0.3s ease-in-out;
        animation: fadeIn 0.3s ease-in-out;
      }

      /* Hover đẹp hơn */
      .comments p:hover {
        background: rgba(100, 100, 100, 0.9);
        transform: scale(1.02);
        transition: all 0.2s ease-in-out;
      }

      /* Hiệu ứng xuất hiện */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Avatar và cờ quốc gia */
      .comment-section p strong {
        color: #fc0;
        font-weight: bold;
        font-size: 14px;
        margin-right: 5px;
      }

      .comment-section p img {
        width: 22px;
        height: 16px;
        border-radius: 4px;
        margin-right: 8px;
        box-shadow: 0 1px 3px rgba(255, 255, 255, 0.2);
      }

      #comments p {
        margin: 5px 0;
        font-size: 14px;
        line-height: 1.5;
        padding: 6px;
        background: rgba(30, 30, 30, 0.8);
        border-radius: 6px;
      }

      #comments img {
        vertical-align: middle;
      }

      .fake-live-content {
        text-align: center;
        color: #f0f0f0;
        font-size: 1rem;
        font-weight: 600;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.98);
        letter-spacing: 1px;
        transform: translateX(-10px);
      }

      .live-text {
        color: #fff;
        animation: blink 1s infinite;
        margin-bottom: 20px;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }

        50% {
          opacity: 0.5;
        }
      }

      .waiting-text {
        color: yellow;
        font-size: 0.7rem;
        animation: fadeInOut 2s infinite;
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 0.7;
        }

        50% {
          opacity: 1;
        }
      }

      .live-notification {
        position: absolute;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.9);
        color: white;
        padding: 10px 20px;
        border-radius: 30px;
        font-size: 0.8rem;
        font-weight: bold;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        animation: pulse 1.5s infinite;
      }

      .live-icon {
        margin-right: 10px;
        font-size: 1.5rem;
        animation: blink 1s infinite;
      }

      .live-text {
        margin-right: 15px;
      }

      .waiting-text {
        color: #ffc107;
        font-size: 1rem;
      }

      @keyframes blink {
        0% {
          opacity: 1;
        }

        50% {
          opacity: 0.6;
        }

        100% {
          opacity: 1;
        }
      }

      @keyframes pulse {
        0% {
          transform: translateX(-50%) scale(1);
        }

        50% {
          transform: translateX(-50%) scale(1.05);
        }

        100% {
          transform: translateX(-50%) scale(1);
        }
      }

      .luxury-live-title {
        position: absolute;
        top: 10px;
        left: 10px;
        display: flex;
        align-items: center;
        font-family: Arial, sans-serif;
        font-weight: bold;
        z-index: 2;
      }

      .luxury-text {
        color: white;
        font-size: 11px;
        margin-right: 8px;
      }

      .live-badge {
        background-color: #f03;
        color: white;
        padding: 2px 8px;
        border-radius: 5px;
        font-size: 14px;
        font-weight: bold;
        animation: blink 1s infinite;
      }

      @keyframes blink {
        0% {
          opacity: 1;
        }

        50% {
          opacity: 0.6;
        }

        100% {
          opacity: 1;
        }
      }

      .controls {
        text-align: center;
        margin-top: 10px;
      }

      .controls button {
        background: linear-gradient(90deg, #b99e05, #efefef, #00ffc8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;
        padding: 12px 24px;
        border: 1px solid #fff;
        border-radius: 12px;
        font-size: 16px;
        font-weight: bold;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        cursor: pointer;
     
        position: relative;
        transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
      }

      .controls button::before {
        content: "";
        position: absolute;
        top: 3px;
        left: 3px;
        right: 3px;
        height: 40%;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 12px;
        pointer-events: none;
      }

      .controls button:hover {
        background: linear-gradient(90deg, #b99e05, #efefef, #00ffc8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;

      }

      .controls button:active {
        transform: translateY(2px);
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      }

      .controls button i {
        font-size: 18px;
      }

      .comment-section .comments {
        max-height: 130px;
      }

      @media (max-width: 768px) {
        .live-container {
          width: 100vw;
          height: 100vh;
        }

        .live-container iframe {
          width: 100vw;
          height: 100vh;
        }
      }

      #gift-animation-container {
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        pointer-events: none;
      }

      .gift-animation {
        width: 100px;
        height: auto;
        position: absolute;
        bottom: 0;
        animation: moveGift 3s ease-out forwards, fadeOut 3s ease forwards;
      }

      @keyframes moveGift {
        0% {
          transform: translateY(100vh) scale(0.8);
        }

        70% {
          transform: translateY(-30vh) scale(1.2);
        }

        100% {
          transform: translateY(-50vh) scale(1);
        }
      }

      @keyframes fadeOut {
        0% {
          opacity: 1;
        }

        100% {
          opacity: 0;
        }
      }

      .avatar-container {
        flex: 0 0 50px;
        margin-right: 10px;
      }

      .avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 2px solid #fc0;
        box-shadow: 0 3px 7px rgba(255, 204, 0, 0.5);
      }

      .medal {
        width: 30px;
        height: auto;
        margin-left: 10px;
        flex-shrink: 0;
      }

      .info-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        margin-left: 15px;
      }

      .gift-note {
        color: #fff;
        font-size: 14px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 10px;
      }
      .content-footer {
        background: linear-gradient(90deg, #10b905, #efefef, #7a00ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        text-align: center;
        padding: 1.5rem 0;
        margin-top: 2rem;
        border-top: 1px solid #444;
        font-size: 0.9rem;
        letter-spacing: 0.5px;
      }
      .footer-container p {
        margin: 0.5rem;
      }
      .footer-container a {
        color: #ffc107;
        text-decoration: none;
        transition: color 0.3s;
      }
      .footer-container a:hover {
        color: #ffdd57;
      }
      @keyframes rotateIcon {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.icon-dynamic {
  display: inline-block;
  animation: rotateIcon 4s linear infinite;
}
    </style>
  </head>
  <body>

    <div id="navbar-placeholder"></div>
    <script src="menu.js"></script>

    <div class="content" id="live18Section" style="display: block">
      <div class="search-container">
        <input type="text" id="search-input" placeholder="Nhập tên idol..." />
        <button id="btn-find" class="new-btn" title="Tìm kiếm">
          <i class="fas fa-search"></i> Tìm kiếm
        </button>
      </div>
      <ul class="nav nav-tabs" id="liveTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="all-tab"
            data-bs-toggle="tab"
            data-bs-target="#all"
            type="button"
            role="tab"
            aria-controls="all"
            aria-selected="true"
          >
            Tất cả
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="featured-tab"
            data-bs-toggle="tab"
            data-bs-target="#featured"
            type="button"
            role="tab"
            aria-controls="featured"
            aria-selected="false"
          >
            Nổi bật
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="online-tab"
            data-bs-toggle="tab"
            data-bs-target="#online"
            type="button"
            role="tab"
            aria-controls="online"
            aria-selected="false"
          >
            Đang trực tiếp
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="offline-tab"
            data-bs-toggle="tab"
            data-bs-target="#offline"
            type="button"
            role="tab"
            aria-controls="offline"
            aria-selected="false"
          >
            Offline
          </button>
        </li>
      </ul>

      <!-- Live Stream Wrapper (Popup) -->
      <div id="liveStreamWrapper" class="live-stream-wrapper">
        <div id="live-container" class="live-container">
          <iframe
            id="liveFrame"
            src="https://player.vimeo.com/video/1040977081?autoplay=1"
            frameborder="0"
            allow="autoplay; fullscreen; picture-in-picture"
          ></iframe>
          <div id="fake-live-overlay" class="fake-live-overlay">
            <div class="fake-live-content">
              <span class="luxury-live-text">
                LUXURY GIRL BOOKING <span class="live-badge">LIVE</span>
              </span>
              <span class="waiting-text"
                ><br />Bạn chưa được cấp quyền kết nối...</span
              >
            </div>
          </div>
          <div class="luxury-live-title">
            <span class="luxury-text">
              LUXURY GIRL BOOKING <span class="live-badge">LIVE</span>
            </span>
          </div>
          <div
            id="donate-notification"
            class="donate-notification"
            style="display: none"
          >
            <div class="donate-content">
              <strong id="donor-name">User <br /></strong>đã gửi
              <span id="gift-name">quà</span>
              <img
                id="donate-gift-img"
                src="path-to-gift-image.png"
                alt="Gift"
                class="gift-icon"
              />
            </div>
          </div>
          <div
            id="insufficient-notification"
            class="donate-notification"
            style="display: none; color: red"
          >
            <div class="donate-content">
              <strong id="donor-name-error">User</strong> không đủ số lượng để
              gửi quà.
            </div>
          </div>
          <div id="viewers-count" class="viewers-count">🔴 154 đang xem</div>
          <div class="comment-section" id="comment-section">
            <div
              id="comments"
              style="overflow-y: auto; color: #fff; border-radius: 10px"
            ></div>
          </div>
        </div>
        <div class="live-overlay" id="liveOverlay" style="display: none">
          <div class="overlay-content">
            <span class="status-ended">LIVE ĐÃ KẾT THÚC</span>
          </div>
        </div>
        <div id="gift-animation-container"></div>
        <!-- Gift Popup -->
        <div id="gift-popup" class="gift-popup">
          <div class="gift-header">
            <span>Chọn quà tặng</span>
            <p class="gift-note">Mỗi ngày sẽ được tặng 10 quà miễn phí!</p>

            <button class="close-btn" onclick="toggleGiftPopup()">×</button>
          </div>
          <div class="gift-items">
            <!-- Các mục quà tặng -->
            <div
              class="gift-item"
              onclick="selectGift('Hoa hồng', 'https://i.ibb.co/pWMRsmX/a3c056ea80ebf11b730d268b913ecaa0-1-d-a-removebg-preview-removebg-preview.png')"
            >
              <img
                src="https://i.ibb.co/pWMRsmX/a3c056ea80ebf11b730d268b913ecaa0-1-d-a-removebg-preview-removebg-preview.png"
                alt="Hoa hồng"
              />
              <span>Hoa hồng</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Corgi', 'https://i.ibb.co/5YwDLR2/a3c056ea80ebf11b730d268b913ecaa0-1-it-removebg-preview.png')"
            >
              <img
                src="https://i.ibb.co/5YwDLR2/a3c056ea80ebf11b730d268b913ecaa0-1-it-removebg-preview.png"
                alt="Corgi"
              />
              <span>Corgi</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Ngôi sao', 'https://i.ibb.co/GTdjFWY/4a5975631db2863cc15722704d9470ad-removebg-preview.png')"
            >
              <img
                src="https://i.ibb.co/GTdjFWY/4a5975631db2863cc15722704d9470ad-removebg-preview.png"
                alt="Ngôi sao"
              />
              <span>Ngôi sao</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Kim cương', 'https://i.ibb.co/VVRr2Mv/f3638925ed676be1b1d828afbd114898-removebg-preview.png')"
            >
              <img
                src="https://i.ibb.co/VVRr2Mv/f3638925ed676be1b1d828afbd114898-removebg-preview.png"
                alt="Kim cương"
              />
              <span>Kim cương</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Bàn tay sét', 'https://i.ibb.co/qMvrfZq/b3f6922a794374338c672b5a4c936aa0.webp')"
            >
              <img
                src="https://i.ibb.co/qMvrfZq/b3f6922a794374338c672b5a4c936aa0.webp"
                alt="Bàn tay sét"
              />
              <span>Bàn tay sét</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Mặt trăng', 'https://i.ibb.co/5LDz3JW/494b818b6a4217f1807255ca148c7b2d.webp')"
            >
              <img
                src="https://i.ibb.co/5LDz3JW/494b818b6a4217f1807255ca148c7b2d.webp"
                alt="Mặt trăng"
              />
              <span>Mặt trăng</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Chim xanh', 'https://i.ibb.co/C2pvchn/9917cc4ca38657550f29759fa7df1439.png')"
            >
              <img
                src="https://i.ibb.co/C2pvchn/9917cc4ca38657550f29759fa7df1439.png"
                alt="Chim xanh"
              />
              <span>Chim xanh</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Thư tình', 'https://i.ibb.co/sWr9FLK/fc521ab0494eb35cef33fde0c2b51555.webp')"
            >
              <img
                src="https://i.ibb.co/sWr9FLK/fc521ab0494eb35cef33fde0c2b51555.webp"
                alt="Thư tình"
              />
              <span>Thư tình</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Trái tim hồng', 'https://i.ibb.co/wKgnxjK/519497b062ded1019c958d5d0b352a7e.webp')"
            >
              <img
                src="https://i.ibb.co/wKgnxjK/519497b062ded1019c958d5d0b352a7e.webp"
                alt="Trái tim hồng"
              />
              <span>Trái tim hồng</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Máy bay giấy', 'https://i.ibb.co/tKgcTV6/bf071c7cc84cf3aac6435adbd222f577.png')"
            >
              <img
                src="https://i.ibb.co/tKgcTV6/bf071c7cc84cf3aac6435adbd222f577.png"
                alt="Máy bay giấy"
              />
              <span>Máy bay giấy</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Son môi', 'https://i.ibb.co/VQwn7DF/546ec0aefaca6b96a3da4d79a41899b6.png')"
            >
              <img
                src="https://i.ibb.co/VQwn7DF/546ec0aefaca6b96a3da4d79a41899b6.png"
                alt="Son môi"
              />
              <span>Son môi</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Báo đen', 'https://i.ibb.co/pRx49LQ/32f205cf24dcf07f5e8f308d9d425d59.webp')"
            >
              <img
                src="https://i.ibb.co/pRx49LQ/32f205cf24dcf07f5e8f308d9d425d59.webp"
                alt="Báo đen"
              />
              <span>Báo đen</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Hoa anh đào', 'https://i.ibb.co/vDDz180/3b7fbd6377416a52f8ea1a25bf03380c.png')"
            >
              <img
                src="https://i.ibb.co/vDDz180/3b7fbd6377416a52f8ea1a25bf03380c.png"
                alt="Hoa anh đào"
              />
              <span>Hoa anh đào</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Cánh bướm', 'https://i.ibb.co/QnG37jj/bfdf297ce4fd01a5c2dc1087a30f7ce8.webp')"
            >
              <img
                src="https://i.ibb.co/QnG37jj/bfdf297ce4fd01a5c2dc1087a30f7ce8.webp"
                alt="Cánh bướm"
              />
              <span>Cánh bướm</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Trái tim lửa', 'https://i.ibb.co/0qQJ2Bj/28b8da2878a420f8465cbbc1ec1e6b58.webp')"
            >
              <img
                src="https://i.ibb.co/0qQJ2Bj/28b8da2878a420f8465cbbc1ec1e6b58.webp"
                alt="Trái tim lửa"
              />
              <span>Trái tim lửa</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Heo hồng', 'https://i.ibb.co/Lz4Ybv6/a9241b01b970aa44c2d5cea5e8ba69d6.webp')"
            >
              <img
                src="https://i.ibb.co/Lz4Ybv6/a9241b01b970aa44c2d5cea5e8ba69d6.webp"
                alt="Heo hồng"
              />
              <span>Heo hồng</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Dơi tím', 'https://i.ibb.co/x57RJBZ/bcfc4ff0ee15edd649713791ba54660b.webp')"
            >
              <img
                src="https://i.ibb.co/x57RJBZ/bcfc4ff0ee15edd649713791ba54660b.webp"
                alt="Dơi tím"
              />
              <span>Dơi tím</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Mặt cười vui nhộn', 'https://i.ibb.co/Qk9JjD1/279e323a302baa7d535d987b78b0e555.webp')"
            >
              <img
                src="https://i.ibb.co/Qk9JjD1/279e323a302baa7d535d987b78b0e555.webp"
                alt="Mặt cười vui nhộn"
              />
              <span>Mặt cười vui nhộn</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Chong chóng', 'https://i.ibb.co/Pwyc3J2/6752fc4bc182ad8bda4fad8e5bccbc5f.webp')"
            >
              <img
                src="https://i.ibb.co/Pwyc3J2/6752fc4bc182ad8bda4fad8e5bccbc5f.webp"
                alt="Chong chóng"
              />
              <span>Chong chóng</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Ngôi sao xoay', 'https://i.ibb.co/PFvxZxk/6592047ca6d5cacd01d06f47653633f4.png')"
            >
              <img
                src="https://i.ibb.co/PFvxZxk/6592047ca6d5cacd01d06f47653633f4.png"
                alt="Ngôi sao xoay"
              />
              <span>Ngôi sao xoay</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Hộp quà xanh', 'https://i.ibb.co/3Y80fcq/be4e1bf3190bdd2017d314a796e5d99d.png')"
            >
              <img
                src="https://i.ibb.co/3Y80fcq/be4e1bf3190bdd2017d314a796e5d99d.png"
                alt="Hộp quà xanh"
              />
              <span>Hộp quà xanh</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Trái tim hồng xoay', 'https://i.ibb.co/DV1F11W/0be54b4cf3e40c52fca6be3f71220d69.png')"
            >
              <img
                src="https://i.ibb.co/DV1F11W/0be54b4cf3e40c52fca6be3f71220d69.png"
                alt="Trái tim hồng xoay"
              />
              <span>Trái tim hồng xoay</span>
            </div>
            <div
              class="gift-item"
              onclick="selectGift('Nút like', 'https://i.ibb.co/V2NhRBH/49252fd7c65b99a3acf3e2ee18af2d67.png')"
            >
              <img
                src="https://i.ibb.co/V2NhRBH/49252fd7c65b99a3acf3e2ee18af2d67.png"
                alt="Nút like"
              />
              <span>Nút like</span>
            </div>
          </div>
          <div
            class="gift-quantity-section"
            id="gift-quantity-section"
            style="display: none"
          >
            <input
              type="number"
              id="gift-quantity"
              min="1"
              placeholder="Nhập số lượng"
            />
            <button class="send-gift-btn" onclick="confirmGift()">
              Gửi quà
            </button>
            <button class="cancel-gift-btn" onclick="toggleGiftPopup()">
              Hủy
            </button>
          </div>
        </div>
        <div
          id="gift-success-popup"
          class="gift-success-popup"
          style="display: none"
        >
          <div class="gift-box">
            <img
              id="success-gift-img"
              src=""
              alt="Gift Image"
              class="gift-box-img"
            />
          </div>
          <p class="gift-message">Quà tặng đã được gửi thành công!</p>
        </div>
      </div>
      <div
      class="tab-pane fade"
      id="online"
      role="tabpanel"
      aria-labelledby="online-tab"
    >
      <div class="live-grid">
        <div class="live-row" id="onlineCardsContainer"></div>
      </div>
    </div>
    <!-- Offline -->
    <div
      class="tab-pane fade"
      id="offline"
      role="tabpanel"
      aria-labelledby="offline-tab"
    >
      <div class="live-grid">
        <div class="live-row" id="offlineCardsContainer"></div>
      </div>
    </div>
 

<div class="action-buttons">
  <button id="btn-reload" class="new-btn" title="Tải lại">
    <i class="fas fa-redo"></i> Tải lại
  </button>
  <button
    id="btn-present"
    class="new-btn"
    title="Gửi quà"
    onclick="toggleGiftPopup()"
  >
    <i class="fas fa-gift"></i> Chọn quà
  </button>
  <button id="btn-show-list" class="new-btn" title="Hiển thị danh sách">
    <i class="fas fa-list-ul"></i> Danh sách yêu thích
  </button>
  <button
    id="btn-clear-favorites"
    class="new-btn"
    title="Xóa danh sách yêu thích"
  >
    <i class="fas fa-trash"></i> Xóa danh sách yêu thích
  </button>
  <div class="controls">
    <button onclick="closeLiveStream()">Đóng Live Stream</button>
  </div>
</div>
      <!-- Tab Content -->
      <div class="tab-content" id="liveTabContent">
        <!-- Tất cả -->
        <div
          class="tab-pane fade show active"
          id="all"
          role="tabpanel"
          aria-labelledby="all-tab"
        >
          <div
            class="tab-pane fade show active"
            id="all"
            role="tabpanel"
            aria-labelledby="all-tab"
          >
            <div id="allLiveCards" class="live-grid">
              <div class="live-row">
                <!-- Ví dụ một số live-card; bạn có thể copy và dán thêm các card khác -->
                <div
                  class="live-card"
                  data-name="Như Quỳnh"
                  onclick="showLiveStream('https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/4b6efd5ec0dc2d0fe0afc3912cb65753/iframe')"
                >
                  <span class="status online">● Online</span>
                  <img
                    src="https://i.ibb.co/k6QLK3Qy/photo-12-2025-02-27-07-52-18.jpg"
                    alt="Streamer 2"
                  />
                  <video
                    autoplay
                    muted
                    playsinline
                    loop
                    preload="auto"
                    poster="https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/4b6efd5ec0dc2d0fe0afc3912cb65753/thumbnails/thumbnail.jpg?time=&height=600"
                  >
                    <source
                      src="https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/4b6efd5ec0dc2d0fe0afc3912cb65753/iframe"
                      type="video/mp4"
                    />
                    Trình duyệt của bạn không hỗ trợ video.
                  </video>
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Như Quỳnh</span>
                  </div>
                  <button
                    class="favorite-btn"
                    onclick="event.stopPropagation(); toggleFavorite(this)"
                  >
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div
                  class="live-card"
                  data-name="Miu Miu"
                  onclick="showLiveStream('https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/2c40a9a74d7b838fb83ef0e3f9fbd779/iframe')"
                >
                  <span class="status online">● Online</span>
                  <img
                    src="https://i.ibb.co/Kb7yzwR/photo-3291-24-06-2024-20-38-28.jpg"
                    alt="Streamer 3"
                  />
                  <video
                    autoplay
                    muted
                    playsinline
                    loop
                    preload="auto"
                    poster="https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/2c40a9a74d7b838fb83ef0e3f9fbd779/thumbnails/thumbnail.jpg?time=&height=600"
                  >
                    <source
                      src="https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/2c40a9a74d7b838fb83ef0e3f9fbd779/iframe"
                      type="video/mp4"
                    />
                    Trình duyệt của bạn không hỗ trợ video.
                  </video>
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Miu Miu</span>
                  </div>
                  <span class="top-badge">
                    <img
                      src="https://i.ibb.co/5W327R1/md-3572a88c007d18e2ac7f4b9655297589-removebg-preview.png"
                      alt="Top Logo"
                      class="top-logo"
                    />
                  </span>
                  <button
                    class="favorite-btn"
                    onclick="event.stopPropagation(); toggleFavorite(this)"
                  >
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div
                  class="live-card"
                  data-name="Ngọc Trinh"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/sv56M5Gx/photo-16-2025-02-27-07-42-42.jpg"
                    alt="Streamer 4"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Ngọc Trinh</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="❀ Na Thỏ ❀"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/ZpJ6KZpN/photo-52-2025-02-26-03-49-30.jpg"
                    alt="Streamer 5"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">❀ Na Thỏ ❀</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Linh Nhung"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                  src="https://i.ibb.co/TqpHvmLy/photo-21-2025-02-24-09-04-09.jpg","
                  alt="Streamer 6" />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Linh Nhung</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Quỳnh Chi"
                  onclick="showLiveStream('https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/f18f47df36f2736a2137ff0415da96ef/iframe')"
                >
                  <span class="status online">● Online</span>
                  <img
                    src="https://i.ibb.co/Jxfx0Hr/photo-156-23-06-2024-16-11-36.jpg"
                    alt="Streamer 7"
                  />
                  <video
                    autoplay
                    muted
                    playsinline
                    loop
                    preload="auto"
                    poster="https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/f18f47df36f2736a2137ff0415da96ef/thumbnails/thumbnail.jpg"
                  >
                    <source
                      src="https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/f18f47df36f2736a2137ff0415da96ef/iframe"
                      type="video/mp4"
                    />
                    Trình duyệt của bạn không hỗ trợ video.
                  </video>
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Quỳnh Chi</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                  <span class="top-badge">
                    <img
                      src="https://i.ibb.co/TBSjbNS/pngtree-ranking-label-png-image-3569728-removebg-preview.png"
                      alt="Top Logo"
                      class="top-logo"
                    />
                  </span>
                </div>
              </div>
              <!-- Live Row 2 -->
              <div class="live-row">
                <div
                  class="live-card"
                  data-name="HaNa"
                  onclick="showLiveStream('https://customer-vd2dw6zchzsa06w6.cloudflarestream.com/24d8bfce23458250aee4d05cc57f3a8a/iframe?poster=https%3A%2F%2Fcustomer-vd2dw6zchzsa06w6.cloudflarestream.com%2F24d8bfce23458250aee4d05cc57f3a8a%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D%26height%3D600')"
                >
                  <span class="status offline">● Online</span>
                  <img
                    src="https://i.ibb.co/RdRcg4L/photo-17-2025-02-27-07-55-07.jpg"
                    alt="Streamer 8"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">HaNa</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Phương Mai"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/NKZ2SYg/photo-2989-24-06-2024-19-55-17.jpg"
                    alt="Streamer 9"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Phương Mai</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>

                <div
                  class="live-card"
                  data-name="Aria"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/D9pv4B0/photo-269-23-06-2024-17-51-29-Sao-ch-p.jpg"
                    alt="Streamer 11"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Aria</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Kim Anh"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/bmJcmz1/photo-281-23-06-2024-17-53-18-Sao-ch-p.jpg"
                    alt="Streamer 12"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Kim Anh</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Hana"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/3C87zds/Untitled-design-69.png"
                    alt="Streamer 13"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Hana</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                  <span class="top-badge">
                    <img
                      src="https://i.ibb.co/r2v5F6b/reawr-removebg-preview.png"
                      alt="Top Logo"
                      class="top-logo"
                    />
                  </span>
                </div>
                <div
                  class="live-card"
                  data-name="Diệu Hương"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/fYKwm7pn/photo-22-2025-02-26-03-49-30.jpg"
                    alt="Streamer 14"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Diệu Hương</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Trúc Linh"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/XkQwtFR/photo-477-23-06-2024-18-30-26.jpg"
                    alt="Streamer 15"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Trúc Linh</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>

                <div
                  class="live-card"
                  data-name="Huyền Anh"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/3mzStJDL/photo-4-2025-02-26-03-45-40.jpg"
                    alt="Streamer 17"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Huyền Anh</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>

                <div
                  class="live-card"
                  data-name="Tuyết Nhi"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/dQfs1MR/photo-1-16136972389091030663303.jpg"
                    alt="Streamer 19"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Tuyết Nhi</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
                <div
                  class="live-card"
                  data-name="Diệu Huyền"
                  onclick="showLiveStream('https://i.ibb.co/VWwZccP/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp')"
                >
                  <span class="status offline">● Offline</span>
                  <img
                    src="https://i.ibb.co/VNxrp1j/photo-173-23-06-2024-16-20-25-thumb.jpg"
                    alt="Streamer 20"
                  />
                  <div class="card-info">
                    <img
                      src="https://flagcdn.com/w40/vn.png"
                      alt="Vietnam Flag"
                      class="flag"
                    />
                    <span class="name">Diệu Huyền</span>
                    <button
                      class="favorite-btn"
                      onclick="event.stopPropagation(); toggleFavorite(this)"
                    >
                      <i class="fas fa-heart"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Đang trực tiếp (Online) -->
      
    <div id="comments"></div>
     <!-- Icon mạng xã hội (hiệu ứng quay) -->
     <div
     style="
       display: flex;
       justify-content: center;
       gap: 1rem;
       margin-top: 1rem;
     "
   >
     <a href="#" style="color: #4267b2; text-decoration: none">
       <ion-icon
         class="icon-dynamic"
         name="logo-facebook"
         style="font-size: 2rem"
       ></ion-icon>
     </a>
     <a href="#" style="color: #25d366; text-decoration: none">
       <ion-icon
         class="icon-dynamic"
         name="logo-whatsapp"
         style="font-size: 2rem"
       ></ion-icon>
     </a>
     <a href="#" style="color: #e1306c; text-decoration: none">
       <ion-icon
         class="icon-dynamic"
         name="logo-instagram"
         style="font-size: 2rem"
       ></ion-icon>
     </a>
     <a href="#" style="color: #69c9d0; text-decoration: none">
       <ion-icon
         class="icon-dynamic"
         name="logo-tiktok"
         style="font-size: 2rem"
       ></ion-icon>
     </a>
     <a href="#" style="color: #0077b5; text-decoration: none">
       <ion-icon
         class="icon-dynamic"
         name="logo-linkedin"
         style="font-size: 2rem"
       ></ion-icon>
     </a>
   </div>

   <!-- Footer -->
   <footer class="content-footer">
     <div class="footer-container">
       <p>
         &copy; 2023 <strong>Dangcapgaigoi</strong>. All rights reserved.
       </p>
       <p>
         Designed by
         <a href="https://dangcapgaigoi.com" target="_blank"
           >Dangcapgaigoi Team</a
         >
       </p>
     </div>
   </footer>
 </div>
    <script>
      fetch("navbar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("navbar-placeholder").innerHTML = data;
        });

      // Cập nhật số người xem (viewers count) ngẫu nhiên
      function updateViewersCount() {
        const viewersCountElement = document.getElementById("viewers-count");
        const randomViewers = Math.floor(Math.random() * (100 - 50 + 1)) + 50;
        viewersCountElement.textContent = `🔴 ${randomViewers} đang xem`;
      }
      setInterval(updateViewersCount, 7000);

      function showLiveStream(url, idolName) {
        // Tìm card dựa trên data-name của idol
        const card = document.querySelector(
          `.live-card[data-name="${idolName}"]`
        );
        if (card) {
          const statusSpan = card.querySelector(".status");
          if (statusSpan && statusSpan.textContent.includes("Offline")) {
            // Nếu trạng thái Offline, hiển thị thông báo và không mở live stream
            showOfflineNotification();
            return;
          }
        }
        // Nếu không Offline, mở live stream như bình thường
        const liveFrame = document.getElementById("liveFrame");
        const liveStreamWrapper = document.getElementById("liveStreamWrapper");
        const updatedUrl = new URL(url);
        updatedUrl.searchParams.set("autoplay", "1");
        updatedUrl.searchParams.set("muted", "1");
        liveFrame.src = updatedUrl.toString();
        liveFrame.setAttribute(
          "allow",
          "autoplay; fullscreen; encrypted-media"
        );
        liveFrame.setAttribute("allowfullscreen", "true");
        liveStreamWrapper.style.display = "flex";
        // (Có thể gọi startLiveTimer() nếu cần giới hạn thời gian truy cập live)
      }

      function showOfflineNotification() {
        // Tạo bảng thông báo ở chính giữa màn hình
        const board = document.createElement("div");
        board.className = "notification-board";
        board.innerHTML = `
    <p style="font-size:20px; margin-bottom:10px;">Buổi live đang đóng</p>
    <img src="https://i.ibb.co/zhTDq7nK/live-streaming-symbol-set-online-broadcast-icon-the-concept-of-live-streaming-for-selling-on-social.webp" alt="Live closed" style="max-width:100%;">
  `;
        document.body.appendChild(board);
        // Tự động ẩn bảng thông báo sau 5 giây
        setTimeout(() => {
          board.remove();
        }, 5000);
      }

      // Reload danh sách live card bằng cách xáo trộn các phần tử
      document
        .getElementById("btn-reload")
        .addEventListener("click", randomizeList);
      function randomizeList() {
        const list = document.getElementById("item-list");
        const items = Array.from(list.children);
        for (let i = items.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [items[i], items[j]] = [items[j], items[i]];
        }
        list.innerHTML = "";
        items.forEach((item) => list.appendChild(item));
      }

      // DANH SÁCH NGƯỜI DÙNG NGẪU NHIÊN
      const userIds = [
        "UserID683439",
        "UserID847291",
        "UserID926473",
        "UserID534829",
        "UserID392761",
        "UserID174829",
        "UserID837462",
        "UserID928374",
        "UserID374829",
        "UserID623849",
      ];

      // DANH SÁCH QUÀ TẶNG NGẪU NHIÊN
      const gifts = [
        {
          name: "Hoa hồng",
          image:
            "https://i.ibb.co/pWMRsmX/a3c056ea80ebf11b730d268b913ecaa0-1-d-a-removebg-preview-removebg-preview.png",
        },
        {
          name: "Corgi",
          image:
            "https://i.ibb.co/5YwDLR2/a3c056ea80ebf11b730d268b913ecaa0-1-it-removebg-preview.png",
        },
        {
          name: "Ngôi sao",
          image:
            "https://i.ibb.co/GTdjFWY/4a5975631db2863cc15722704d9470ad-removebg-preview.png",
        },
        {
          name: "Kim cương",
          image:
            "https://i.ibb.co/VVRr2Mv/f3638925ed676be1b1d828afbd114898-removebg-preview.png",
        },
        {
          name: "Bàn tay sét",
          image:
            "https://i.ibb.co/qMvrfZq/b3f6922a794374338c672b5a4c936aa0.webp",
        },
        {
          name: "Mặt trăng",
          image:
            "https://i.ibb.co/5LDz3JW/494b818b6a4217f1807255ca148c7b2d.webp",
        },
        {
          name: "Chim xanh",
          image:
            "https://i.ibb.co/C2pvchn/9917cc4ca38657550f29759fa7df1439.png",
        },
        {
          name: "Thư tình",
          image:
            "https://i.ibb.co/sWr9FLK/fc521ab0494eb35cef33fde0c2b51555.webp",
        },
        {
          name: "Trái tim hồng",
          image:
            "https://i.ibb.co/wKgnxjK/519497b062ded1019c958d5d0b352a7e.webp",
        },
        {
          name: "Máy bay giấy",
          image:
            "https://i.ibb.co/tKgcTV6/bf071c7cc84cf3aac6435adbd222f577.png",
        },
        {
          name: "Son môi",
          image:
            "https://i.ibb.co/VQwn7DF/546ec0aefaca6b96a3da4d79a41899b6.png",
        },
        {
          name: "Báo đen",
          image:
            "https://i.ibb.co/pRx49LQ/32f205cf24dcf07f5e8f308d9d425d59.webp",
        },
        {
          name: "Hoa anh đào",
          image:
            "https://i.ibb.co/vDDz180/3b7fbd6377416a52f8ea1a25bf03380c.png",
        },
        {
          name: "Cánh bướm",
          image:
            "https://i.ibb.co/QnG37jj/bfdf297ce4fd01a5c2dc1087a30f7ce8.webp",
        },
        {
          name: "Trái tim lửa",
          image:
            "https://i.ibb.co/0qQJ2Bj/28b8da2878a420f8465cbbc1ec1e6b58.webp",
        },
        {
          name: "Heo hồng",
          image:
            "https://i.ibb.co/Lz4Ybv6/a9241b01b970aa44c2d5cea5e8ba69d6.webp",
        },
        {
          name: "Dơi tím",
          image:
            "https://i.ibb.co/x57RJBZ/bcfc4ff0ee15edd649713791ba54660b.webp",
        },
        {
          name: "Mặt cười vui nhộn",
          image:
            "https://i.ibb.co/Qk9JjD1/279e323a302baa7d535d987b78b0e555.webp",
        },
        {
          name: "Chong chóng",
          image:
            "https://i.ibb.co/Pwyc3J2/6752fc4bc182ad8bda4fad8e5bccbc5f.webp",
        },
        {
          name: "Ngôi sao xoay",
          image:
            "https://i.ibb.co/PFvxZxk/6592047ca6d5cacd01d06f47653633f4.png",
        },
        {
          name: "Hộp quà xanh",
          image:
            "https://i.ibb.co/3Y80fcq/be4e1bf3190bdd2017d314a796e5d99d.png",
        },
        {
          name: "Trái tim hồng xoay",
          image:
            "https://i.ibb.co/DV1F11W/0be54b4cf3e40c52fca6be3f71220d69.png",
        },
        {
          name: "Nút like",
          image:
            "https://i.ibb.co/V2NhRBH/49252fd7c65b99a3acf3e2ee18af2d67.png",
        },
      ];
      let selectedGift = "";
      let selectedGiftImage = "";
      let liveTimer; // Dùng cho giới hạn live

      // ========== Hàm Popup Chọn Quà (Fade-in) ========== //
      function openGiftPopup() {
        const giftPopup = document.getElementById("gift-popup");
        // Đảm bảo popup ở trạng thái display = 'block' trước
        giftPopup.style.display = "block";
        // Thêm class .show để kích hoạt hiệu ứng
        setTimeout(() => {
          giftPopup.classList.add("show");
        }, 10);
      }

      function closeGiftPopup() {
        const giftPopup = document.getElementById("gift-popup");
        // Loại bỏ class .show để popup biến mất dần
        giftPopup.classList.remove("show");
        // Sau khi hiệu ứng kết thúc (0.3s), đặt display = 'none'
        setTimeout(() => {
          giftPopup.style.display = "none";
        }, 300);
        // Ẩn luôn phần nhập số lượng (nếu đang hiện)
        document.getElementById("gift-quantity-section").style.display = "none";
      }

      // ========== Hàm chọn quà ========== //
      function selectGift(giftName, giftImage) {
        selectedGift = giftName;
        selectedGiftImage = giftImage;
        document.getElementById("gift-quantity-section").style.display = "flex";
      }

      // ========== Kiểm tra quà miễn phí ========== //
      function getTodayKey() {
        const today = new Date();
        return `${today.getFullYear()}-${
          today.getMonth() + 1
        }-${today.getDate()}`;
      }
      function checkFreeGift() {
        const todayKey = getTodayKey();
        const hasClaimed = localStorage.getItem(`freeGift_${todayKey}`);
        const giftNote = document.querySelector(".gift-note");
        if (!giftNote) return;
        if (!hasClaimed) {
          giftNote.textContent = "🎁 Hôm nay bạn có thể nhận 1 quà miễn phí!";
        } else {
          giftNote.textContent = "🎁 Bạn đã nhận quà miễn phí hôm nay!";
        }
      }
      document.addEventListener("DOMContentLoaded", checkFreeGift);

      // ========== Hàm gửi quà ========== //
      function confirmGift() {
        const quantity = parseInt(
          document.getElementById("gift-quantity").value
        );
        if (!selectedGift) {
          alert("Vui lòng chọn quà trước khi gửi.");
          return;
        }
        if (isNaN(quantity) || quantity <= 0) {
          alert("Vui lòng nhập số lượng hợp lệ (lớn hơn 0).");
          return;
        }
        // Giả sử mỗi quà tặng có giá 50 tín dụng
        const costPerGift = 1;
        const totalCost = costPerGift * quantity;
        let userCredit = 5; // Ví dụ tín dụng hiện tại
        if (userCredit < totalCost) {
          // Tạo bảng thông báo tín dụng không đủ
          const board = document.createElement("div");
          board.className = "notification-board";

          // Container cho chữ chạy
          const scrollContainer = document.createElement("div");
          scrollContainer.style.overflow = "hidden";
          scrollContainer.style.whiteSpace = "nowrap";

          const scrollingText = document.createElement("div");
          scrollingText.style.display = "inline-block";
          scrollingText.style.paddingLeft = "100%";
          scrollingText.style.animation = "scrollText 10s linear";
          scrollingText.style.fontSize = "20px";
          scrollingText.style.color = "#000";
          scrollingText.innerHTML =
            'Tín dụng của bạn không đủ. Vui lòng <a href="https://yourdomain.com/contact" target="_blank">liên hệ bộ phận CSKH</a> để được hỗ trợ.';

          scrollContainer.appendChild(scrollingText);
          board.appendChild(scrollContainer);

          document.body.appendChild(board);

          // Sau 10 giây, dừng animation và xóa luôn bảng thông báo
          setTimeout(() => {
            scrollingText.style.animation = "none";
            scrollingText.style.transform = "translateX(-100%)";
            board.remove(); // Tự động đóng, không cần nút
          }, 10000);
          return;
        }

        // Nếu đủ tín dụng, hiển thị popup gửi quà thành công
        document.getElementById("success-gift-img").src = selectedGiftImage;
        const successPopup = document.getElementById("gift-success-popup");
        successPopup.style.display = "block";
        setTimeout(() => {
          successPopup.style.display = "none";
          closeGiftPopup();
        }, 3000);
      }

      // ========== Giới hạn truy cập live 10 phút/ngày (600 giây) ========== //
      function checkLiveAccessLimit() {
        const todayKey = getTodayKey();
        const usedTime =
          parseInt(localStorage.getItem("liveAccess_" + todayKey)) || 0;
        return usedTime >= 600; // 600 giây = 10 phút
      }

      function startLiveTimer() {
        const todayKey = getTodayKey();
        liveTimer = setInterval(() => {
          let usedTime =
            parseInt(localStorage.getItem("liveAccess_" + todayKey)) || 0;
          usedTime++;
          localStorage.setItem("liveAccess_" + todayKey, usedTime);
          if (usedTime >= 600) {
            // Đạt giới hạn: tự động đóng live stream và thông báo
            closeLiveStream();
            showLiveAccessLimitNotification();
          }
        }, 1000);
      }
      function stopLiveTimer() {
        clearInterval(liveTimer);
      }

      function showLiveStream(url, idolName) {
        if (checkLiveAccessLimit()) {
          showLiveAccessLimitNotification();
          return;
        }
        const liveFrame = document.getElementById("liveFrame");
        liveFrame.src = url; // + '?autoplay=1&muted=1' nếu cần
        document.getElementById("liveStreamWrapper").style.display = "block";
        startLiveTimer();
      }

      function closeLiveStream() {
        document.getElementById("liveStreamWrapper").style.display = "none";
        document.getElementById("liveFrame").src = "";
        stopLiveTimer();
      }

      // Thông báo khi hết thời gian live
      function showLiveAccessLimitNotification() {
        const board = document.createElement("div");
        board.className = "notification-board";

        const scrollContainer = document.createElement("div");
        scrollContainer.style.overflow = "hidden";
        scrollContainer.style.whiteSpace = "nowrap";

        const scrollingText = document.createElement("div");
        scrollingText.style.display = "inline-block";
        scrollingText.style.paddingLeft = "100%";
        scrollingText.style.animation = "scrollText 10s linear";
        scrollingText.style.fontSize = "20px";
        scrollingText.style.color = "#000";
        scrollingText.innerHTML =
          'Bạn đã sử dụng hết thời gian truy cập phiên bản trải nghiệm. Vui lòng nâng cấp để truy cập phiên bản chính thức (10 phút). Vui lòng <a href="https://yourdomain.com/contact" target="_blank">liên hệ bộ phận CSKH</a> để được hỗ trợ.';

        scrollContainer.appendChild(scrollingText);
        board.appendChild(scrollContainer);

        const closeButton = document.createElement("button");
        closeButton.textContent = "Đóng";
        closeButton.style.display = "none";
        closeButton.onclick = function () {
          board.remove();
        };
        board.appendChild(closeButton);

        document.body.appendChild(board);

        setTimeout(() => {
          scrollingText.style.animation = "none";
          scrollingText.style.transform = "translateX(-100%)";
          closeButton.style.display = "block";
        }, 10000);
      }

      // Hàm chọn quà ngẫu nhiên và hiển thị thông báo
      function randomGift() {
        const randomUser = userIds[Math.floor(Math.random() * userIds.length)];
        const randomGift = gifts[Math.floor(Math.random() * gifts.length)];
        showGiftNotification(randomUser, randomGift.image, randomGift.name);
      }
      setInterval(() => {
        randomGift();
      }, Math.floor(Math.random() * (10000 - 5000 + 1)) + 5000);

      // Hàm tạo UserID ngẫu nhiên
      function generateRandomUserID() {
        return "User" + Math.floor(100000 + Math.random() * 900000);
      }

      // Thêm comment ngẫu nhiên vào khung chat
      function addRandomComment() {
        const comments = document.getElementById("comments");
        if (!comments) return;
        const commentTemplates = [
          "我真的需要找个地方放松一下！",
          "遇到像你这样漂亮的女孩，我无法抗拒！",
          "今晚有女孩在线吗？",
          "你在忙什么？一周工作结束，现在该休息一下了！",
          "虽然明天还要上班，但今晚真是太棒了！",
          "你为什么这么努力？是不是在攒钱看病？",
          "你有什么好推荐的吗？",
          "每个人的喜好都不同，分享一下吧！",
          "这个服务可靠吗？",
          "有人试过吗？我很想听听大家的评价！",
          "如此美丽的人生不留遗憾，活得精彩！",
          "再工作一天，就永远不晚放松😂",
          "在这个时刻，没有什么比预订一位美丽女孩更令人兴奋了！",
          "欢迎加入调皮董事会！",
          "哈哈，非常感谢你，朋友！",
          "哦，你一直在给我发消息，是吗？",
          "迫不及待想看到新女孩上场！",
          "别管那些纷争，我们来尽情享受吧！",
          "这个服务不错吧？",
          "这里有人预订过女孩吗？",
          "我在找个舒适的地方，有谁推荐吗？",
          "和女孩相处真的不容易，对吧？",
          "如此诱人的景象，真让人垂涎欲滴😁",
          "你怎么这么软弱？还没吃呢，兄弟？😂",
          "你一定感觉暖洋洋的，哈哈！",
          "完整表演真是特别的体验😁",
          "她的曲线可能还可以更完美，但看起来已经很棒了！",
          "看女孩展示，比预期还刺激🤣",
          "别担心工作；看这节目一整天，你就不会抱怨没钱😌",
          "我知道你明白我在做什么！😒",
          "看她让我立刻想预订！",
          "我需要一次彻底放松的体验！",
          "我想体验VIP服务！",
          "有在这儿的人，分享一下你的经历吧！",
          "今天有什么优惠吗？",
          "赶快预订，放松一下！",
          "有哪位女孩提供特别优质的服务吗？",
          "看了照片，我就迫不及待想见她了！",
        ];

        const countryFlags = [
          { code: "tw", url: "https://flagcdn.com/h80/tw.png" },
        ];

        const randomUserID = generateRandomUserID();
        const randomComment =
          commentTemplates[Math.floor(Math.random() * commentTemplates.length)];
        const randomFlag =
          countryFlags[Math.floor(Math.random() * countryFlags.length)];
        const commentElement = document.createElement("p");
        commentElement.innerHTML = `<img src="${randomFlag.url}" alt="${randomFlag.code}" style="width:20px; height:14px; margin-right:5px;"> <strong>${randomUserID}:</strong> ${randomComment}`;
        comments.appendChild(commentElement);
        comments.scrollTop = comments.scrollHeight;
      }
      setInterval(addRandomComment, 5000);

      // Hiển thị quà tặng
      function showGiftNotification(donorName, giftImage, giftName) {
        const donateNotification = document.getElementById(
          "donate-notification"
        );
        if (!donateNotification) return;

        document.getElementById("donor-name").textContent = donorName;
        document.getElementById("gift-name").textContent = giftName;
        document.getElementById("donate-gift-img").src = giftImage;

        donateNotification.style.display = "flex";
        setTimeout(() => {
          donateNotification.style.display = "none";
        }, 4000);
      }

      // Fix lỗi quà tặng bị che bởi `.gift-items`
      function showGiftAnimation(giftImageSrc) {
        const giftWrapper = document.createElement("div");
        giftWrapper.classList.add("gift-container");

        const giftElement = document.createElement("img");
        giftElement.src = giftImageSrc;
        giftElement.classList.add("gift-animation");

        // Thêm vào body thay vì container để luôn nổi trên cùng
        giftWrapper.appendChild(giftElement);
        document.body.appendChild(giftWrapper);

        giftWrapper.style.position = "fixed";
        giftWrapper.style.top = "50px";
        giftWrapper.style.left = "50%";
        giftWrapper.style.transform = "translateX(-50%)";
        giftWrapper.style.zIndex = "9999999";
        giftWrapper.style.pointerEvents = "none";

        setTimeout(() => {
          giftWrapper.remove();
        }, 3000);
      }

      // Toggle yêu thích idol
      function toggleFavorite(button) {
        const name = button.parentElement
          .querySelector(".name")
          .textContent.trim();
        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

        if (favorites.includes(name)) {
          favorites = favorites.filter((item) => item !== name);
          button.classList.remove("active");
          alert(`${name} đã bị xóa khỏi danh sách yêu thích!`);
        } else {
          favorites.push(name);
          button.classList.add("active");
          alert(`${name} đã được thêm vào danh sách yêu thích!`);
        }

        localStorage.setItem("favorites", JSON.stringify(favorites));
      }

      // Đánh dấu idol đã yêu thích khi tải trang
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".favorite-btn").forEach((button) => {
          const name = button.parentElement
            .querySelector(".name")
            .textContent.trim();
          if (JSON.parse(localStorage.getItem("favorites"))?.includes(name)) {
            button.classList.add("active");
          }
        });

        updateLeaderboard();
      });

      // Cập nhật trạng thái idol
      function updateStreamerStatus() {
        const liveCards = document.querySelectorAll(".live-card");
        const now = new Date();
        const currentHour = now.getHours();

        liveCards.forEach((card) => {
          const status = card.querySelector(".status");
          if (currentHour >= 20 && currentHour < 22) {
            status.classList.remove("offline");
            status.classList.add("online");
            status.textContent = "● Online";
          } else {
            status.classList.remove("online");
            status.classList.add("offline");
            status.textContent = "● Offline";
          }
        });
      }
      setInterval(updateStreamerStatus, 60000);
      updateStreamerStatus();

      // Ẩn/Hiển thị live stream
      function toggleLiveVisibility(button) {
        const liveStreamContent = button
          .closest(".live-card")
          .querySelector(".live-stream-content");
        if (liveStreamContent.style.display === "none") {
          liveStreamContent.style.display = "block";
          button.textContent = "Ẩn live";
        } else {
          liveStreamContent.style.display = "none";
          button.textContent = "Hiển thị live";
        }
      }

      // Ẩn tất cả live stream
      document
        .getElementById("btn-hide-all")
        .addEventListener("click", function () {
          document
            .querySelectorAll(".live-stream-content")
            .forEach((content) => (content.style.display = "none"));
          document
            .querySelectorAll(".hide-live-btn")
            .forEach((button) => (button.textContent = "Hiển thị live"));
          alert("Tất cả live stream đã được ẩn!");
        });

      // Toggle hiển thị popup gửi quà
      function toggleGiftPopup() {
        const giftPopup = document.getElementById("gift-popup");
        giftPopup.style.display =
          giftPopup.style.display === "block" ? "none" : "block";
      }

      // Hiển thị Live 18+ Section
      function showLive18Plus() {
        document.getElementById("live18Section").style.display = "block";
        document.getElementById("liveStreamWrapper").style.display = "none";
      }

      // Mở live stream: cập nhật URL với autoplay và muted
      function showLiveStream(url) {
        const liveFrame = document.getElementById("liveFrame");
        const liveStreamWrapper = document.getElementById("liveStreamWrapper");
        if (
          !url.includes("cloudflarestream.com") &&
          !url.includes("vimeo.com")
        ) {
          console.error(
            "URL không được hỗ trợ. Chỉ hỗ trợ Cloudflare Stream hoặc Vimeo."
          );
          return;
        }
        const updatedUrl = new URL(url);
        updatedUrl.searchParams.set("autoplay", "1");
        updatedUrl.searchParams.set("muted", "1");
        liveFrame.src = updatedUrl.toString();
        liveFrame.setAttribute(
          "allow",
          "autoplay; fullscreen; encrypted-media"
        );
        liveFrame.setAttribute("allowfullscreen", "true");
        liveStreamWrapper.style.display = "flex";
      }

      // Lưu trạng thái video trước khi unload
      window.addEventListener("beforeunload", () => {
        const liveFrame = document.getElementById("liveFrame");
        if (liveFrame.src) {
          try {
            const idolName =
              liveFrame.getAttribute("data-idol-name") || "unknown";
            const localStorageKey = `liveStreamTime_${idolName}`;
            const video =
              liveFrame.contentWindow.document.querySelector("video");
            if (video) {
              localStorage.setItem(
                localStorageKey,
                Math.floor(video.currentTime)
              );
            }
          } catch (e) {
            console.warn("Không thể lưu trạng thái video:", e);
          }
        }
      });

      // Đóng live stream
      function closeLiveStream() {
        const liveStreamWrapper = document.getElementById("liveStreamWrapper");
        const liveFrame = document.getElementById("liveFrame");
        liveStreamWrapper.style.display = "none";
        liveFrame.src = "";
      }

      // Hiển thị section live stream
      function showLiveStreamSection() {
        const liveSection = document.getElementById("live18Section");
        hideAllSections();
        if (liveSection) {
          liveSection.style.display = "block";
        }
      }

      // Đóng section live stream
      function closeLiveStreamSection() {
        const liveSection = document.getElementById("live18Section");
        if (liveSection) {
          liveSection.style.display = "none";
        }
      }

      // Ẩn tất cả các section (nếu có nhiều section)
      function hideAllSections() {
        const sections = document.querySelectorAll(".content-section");
        sections.forEach((section) => {
          section.style.display = "none";
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        const menuButton = document.getElementById("menuButton");
        if (menuButton) {
          menuButton.addEventListener("click", closeLiveStreamSection);
        }
        const otherButtons = document.querySelectorAll(".menu-item");
        otherButtons.forEach((button) => {
          button.addEventListener("click", hideAllSections);
        });
        const closeButton = document.querySelector(".controls button");
        if (closeButton) {
          closeButton.addEventListener("click", closeLiveStreamSection);
        }
      });

      // Hàm xáo trộn mảng theo thuật toán Fisher-Yates
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // Hàm xáo trộn danh sách idol
      function randomizeIdolList() {
        const idolContainer = document.getElementById("idol-list");
        if (!idolContainer) {
          console.error(
            'Không tìm thấy container danh sách idol với id "idol-list".'
          );
          return;
        }
        // Lấy tất cả các phần tử con (ví dụ các card)
        const idols = Array.from(idolContainer.children);
        // Xáo trộn mảng
        const shuffled = shuffleArray(idols);
        // Xóa nội dung container và đính kèm lại theo thứ tự mới
        idolContainer.innerHTML = "";
        shuffled.forEach((card) => idolContainer.appendChild(card));
      }

      // Gắn sự kiện cho nút "Tải lại" có id "btn-reload"
      document
        .getElementById("btn-reload")
        .addEventListener("click", randomizeIdolList);

      // Hàm cập nhật trạng thái cho mỗi live-card dựa trên localStorage
      function updateStreamerStatus() {
        const liveCards = document.querySelectorAll(".live-card");
        // Chỉ sử dụng 2 trạng thái: "Đang trực tiếp" (online) và "Offline"
        const statuses = [
          { text: "Đang trực tiếp", class: "online" },
          { text: "Offline", class: "offline" },
        ];

        liveCards.forEach((card, index) => {
          // Sử dụng data-id nếu có, nếu không thì sử dụng index
          const cardId = card.getAttribute("data-id") || index;
          let savedStatus = localStorage.getItem(`liveStatus_${cardId}`);
          let statusObj;
          if (savedStatus) {
            statusObj = JSON.parse(savedStatus);
          } else {
            statusObj = statuses[Math.floor(Math.random() * statuses.length)];
            localStorage.setItem(
              `liveStatus_${cardId}`,
              JSON.stringify(statusObj)
            );
          }
          const statusSpan = card.querySelector(".status");
          if (statusSpan) {
            // Dựa vào nội dung text để hiển thị trạng thái
            statusSpan.textContent = `● ${statusObj.text}`;
            // Cập nhật lớp CSS để phân biệt (loại bỏ các lớp cũ nếu có)
            statusSpan.classList.remove("online", "offline", "featured");
            statusSpan.classList.add(statusObj.class);
          } else {
            console.warn(
              `Không tìm thấy phần tử .status cho live-card ${cardId}`
            );
          }
        });
        console.log(
          "Đã cập nhật trạng thái cho",
          liveCards.length,
          "live-card"
        );
      }

      // Cập nhật trạng thái mới và lưu vào localStorage mỗi 4 tiếng (14400000 ms)
      setInterval(() => {
        const liveCards = document.querySelectorAll(".live-card");
        const statuses = [
          { text: "Đang trực tiếp", class: "online" },
          { text: "Offline", class: "offline" },
        ];
        liveCards.forEach((card, index) => {
          const cardId = card.getAttribute("data-id") || index;
          const newStatus =
            statuses[Math.floor(Math.random() * statuses.length)];
          localStorage.setItem(
            `liveStatus_${cardId}`,
            JSON.stringify(newStatus)
          );
        });
        updateStreamerStatus();
        console.log("Đã làm mới trạng thái");
      }, 14400000);

      // Hàm sắp xếp và phân loại live-card theo trạng thái hiện tại
      function sortLiveCards() {
        // Lấy tất cả live-card
        const allCards = Array.from(document.querySelectorAll(".live-card"));
        console.log("Tổng số live-card:", allCards.length);

        // Phân loại dựa trên nội dung text của phần tử .status
        const onlineCards = allCards.filter((card) => {
          const statusEl = card.querySelector(".status");
          return statusEl && statusEl.textContent.includes("Đang trực tiếp");
        });
        const offlineCards = allCards.filter((card) => {
          const statusEl = card.querySelector(".status");
          return statusEl && statusEl.textContent.includes("Offline");
        });

        // Tab "Nổi bật": chọn ngẫu nhiên tối đa 5 live-card
        const featuredCount = Math.min(5, allCards.length);
        const featuredCards = shuffleArray([...allCards]).slice(
          0,
          featuredCount
        );

        console.log(
          "Online:",
          onlineCards.length,
          ", Offline:",
          offlineCards.length,
          ", Nổi bật:",
          featuredCards.length
        );

        // Lấy các container cho từng tab (đảm bảo HTML có các phần tử với ID sau)
        const allContainer = document.getElementById("allLiveCards");
        const featuredContainer = document.getElementById(
          "featuredCardsContainer"
        );
        const onlineContainer = document.getElementById("onlineCardsContainer");
        const offlineContainer = document.getElementById(
          "offlineCardsContainer"
        );

        if (allContainer) {
          allContainer.innerHTML = "";
          allCards.forEach((card) => allContainer.appendChild(card));
        } else {
          console.error("Không tìm thấy container: allLiveCards");
        }
        if (featuredContainer) {
          featuredContainer.innerHTML = "";
          featuredCards.forEach((card) => featuredContainer.appendChild(card));
        } else {
          console.error("Không tìm thấy container: featuredCardsContainer");
        }
        if (onlineContainer) {
          onlineContainer.innerHTML = "";
          onlineCards.forEach((card) => onlineContainer.appendChild(card));
        } else {
          console.error("Không tìm thấy container: onlineCardsContainer");
        }
        if (offlineContainer) {
          offlineContainer.innerHTML = "";
          offlineCards.forEach((card) => offlineContainer.appendChild(card));
        } else {
          console.error("Không tìm thấy container: offlineCardsContainer");
        }
      }

      // Gọi các hàm khi DOM đã sẵn sàng
      document.addEventListener("DOMContentLoaded", () => {
        updateStreamerStatus();
        sortLiveCards();
      });

      // Kiểm tra nếu phần tử tìm kiếm tồn tại
      document.addEventListener("DOMContentLoaded", () => {
        const searchInput = document.getElementById("search-input");
        const searchButton = document.getElementById("btn-find");

        if (!searchInput || !searchButton) {
          console.error("Lỗi: Không tìm thấy ô tìm kiếm hoặc nút tìm kiếm!");
          return;
        }

        // Bắt sự kiện tìm kiếm
        searchButton.addEventListener("click", searchIdol);
        searchInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") searchIdol();
        });

        // Khi nhập xóa hết chữ thì hiển thị lại danh sách idol
        searchInput.addEventListener("input", () => {
          if (!searchInput.value.trim()) resetLiveCards();
        });

        function searchIdol() {
          const searchTerm = removeAccents(
            searchInput.value.trim().toLowerCase()
          );
          const idols = document.querySelectorAll(".live-card"); // Lấy danh sách idol

          if (!searchTerm) {
            resetLiveCards(); // Nếu không nhập gì, hiển thị lại tất cả idol
            return;
          }

          let found = false;
          idols.forEach((idol) => {
            const nameElement = idol.querySelector(".name");
            if (!nameElement) return;

            const idolName = removeAccents(
              nameElement.textContent.trim().toLowerCase()
            );

            if (idolName.includes(searchTerm)) {
              idol.style.display = "inline-block"; // Hiển thị idol tìm thấy
              found = true;
            } else {
              idol.style.display = "none"; // Ẩn idol không khớp
            }
          });

          if (!found) {
            alert("Không tìm thấy idol nào phù hợp.");
          }
        }

        function resetLiveCards() {
          document.querySelectorAll(".live-card").forEach((idol) => {
            idol.style.display = "inline-block";
          });
        }

        function removeAccents(str) {
          return str
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "")
            .replace(/đ/g, "d")
            .replace(/Đ/g, "D");
        }
      });

      // Thêm sự kiện khi nhấn "Tìm kiếm"
      document.getElementById("btn-find").addEventListener("click", searchIdol);

      // Khi nhấn "Enter" trong ô nhập tìm kiếm
      document
        .getElementById("search-input")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            searchIdol();
          }
        });

      // Khi nhập vào input mà xóa hết chữ, hiển thị lại danh sách
      document.getElementById("search-input").addEventListener("input", () => {
        if (!document.getElementById("search-input").value.trim()) {
          resetLiveCards();
        }
      });
      function searchIdol() {
        const searchInput = document.getElementById("search-input");
        if (!searchInput) {
          console.error("Không tìm thấy ô nhập tìm kiếm!");
          return;
        }

        const searchTerm = removeAccents(
          searchInput.value.trim().toLowerCase()
        );
        const idols = document.querySelectorAll(".live-card"); // Lấy danh sách idol

        if (!searchTerm) {
          resetLiveCards(); // Nếu không nhập gì, hiển thị lại tất cả idol
          return;
        }

        let found = false;
        idols.forEach((idol) => {
          const nameElement = idol.querySelector(".name"); // Lấy phần tên idol
          if (!nameElement) return; // Nếu không có tên thì bỏ qua

          const idolName = removeAccents(
            nameElement.textContent.trim().toLowerCase()
          ); // Chuyển tên idol về dạng chuẩn

          if (idolName.includes(searchTerm)) {
            idol.style.display = "inline-block"; // Hiển thị idol tìm thấy
            found = true;
          } else {
            idol.style.display = "none"; // Ẩn idol không khớp
          }
        });

        if (!found) {
          alert("Không tìm thấy idol nào phù hợp.");
        }
      }

      // Hàm reset hiển thị lại tất cả idol
      function resetLiveCards() {
        document.querySelectorAll(".live-card").forEach((idol) => {
          idol.style.display = "inline-block";
        });
      }

      // Hàm loại bỏ dấu tiếng Việt để tìm kiếm chính xác hơn
      function removeAccents(str) {
        return str
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "")
          .replace(/đ/g, "d")
          .replace(/Đ/g, "D");
      }

      // Thêm sự kiện khi nhấn "Tìm kiếm"
      document.getElementById("btn-find").addEventListener("click", searchIdol);

      // Khi nhấn "Enter" trong ô nhập tìm kiếm
      document
        .getElementById("search-input")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            searchIdol();
          }
        });

      // Khi nhập vào input mà xóa hết chữ, hiển thị lại danh sách
      document.getElementById("search-input").addEventListener("input", () => {
        if (!document.getElementById("search-input").value.trim()) {
          resetLiveCards();
        }
      });

      // Hàm gửi message khi người dùng nhấn Enter (trong khung chat)
      function sendMessage(event) {
        if (event.key === "Enter") {
          const input = document.getElementById("chatInput");
          const message = input.value.trim();
          if (message) {
            const chatBox = document.getElementById("chatBox");
            const newMessage = document.createElement("div");
            newMessage.textContent = `Bạn: ${message}`;
            chatBox.appendChild(newMessage);
            chatBox.scrollTop = chatBox.scrollHeight;
            input.value = "";
          }
        }
      }

      // Hàm ẩn/hiện nội dung live của 1 live-card (nếu có phần live-stream-content bên trong)
      function toggleLiveVisibility(button) {
        const liveStreamContent = button
          .closest(".live-card")
          .querySelector(".live-stream-content");
        if (liveStreamContent.style.display === "none") {
          liveStreamContent.style.display = "block";
          button.textContent = "Ẩn live";
        } else {
          liveStreamContent.style.display = "none";
          button.textContent = "Hiển thị live";
        }
      }

      // Ẩn tất cả live-stream-content trong các live-card
      document
        .getElementById("btn-hide-all")
        .addEventListener("click", function () {
          const allLiveStreamContents = document.querySelectorAll(
            ".live-stream-content"
          );
          const allHideButtons = document.querySelectorAll(".hide-live-btn");
          allLiveStreamContents.forEach((content, index) => {
            content.style.display = "none";
            allHideButtons[index].textContent = "Hiển thị live";
          });
        });
    </script>
    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
